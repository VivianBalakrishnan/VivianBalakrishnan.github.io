<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Sudoku | Vivian Balakrishnan</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="
Sudoku Solver translated into Javascript from original code in C&#43;&#43;

  by Lee Hsien Loong


The MIT License (MIT)
Copyright (c) 2015 Vivian Balakrishnan



Solve!">
    <meta name="generator" content="Hugo 0.153.1">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    <meta name="author" content="Vivian.Balakrishnan">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >




    


    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/page/sudoku/">
    

    
    
    <meta property="og:url" content="http://localhost:1313/page/sudoku/">
  <meta property="og:site_name" content="Vivian Balakrishnan">
  <meta property="og:title" content="Sudoku">
  <meta property="og:description" content="Sudoku Solver translated into Javascript from original code in C&#43;&#43; by Lee Hsien Loong The MIT License (MIT) Copyright (c) 2015 Vivian Balakrishnan Solve!">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="page">

  <meta itemprop="name" content="Sudoku">
  <meta itemprop="description" content="Sudoku Solver translated into Javascript from original code in C&#43;&#43; by Lee Hsien Loong The MIT License (MIT) Copyright (c) 2015 Vivian Balakrishnan Solve!">
  <meta itemprop="wordCount" content="25">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Sudoku">
  <meta name="twitter:description" content="Sudoku Solver translated into Javascript from original code in C&#43;&#43; by Lee Hsien Loong The MIT License (MIT) Copyright (c) 2015 Vivian Balakrishnan Solve!">

	
  </head><body class="ma0 avenir bg-near-white development">

    

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Vivian Balakrishnan
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>


    <main class="pb7" role="main">
      
  <div class="flex-l mt2 mw8 center">
    <article class="center cf pv5 ph3 ph4-ns mw7">
      <header>
        <h1 class="f1">
          Sudoku
        </h1>
      </header>
      <div class="nested-copy-line-height lh-copy f4 nested-links mid-gray">
        <ul>
<li>Sudoku Solver translated into Javascript from <a href="https://drive.google.com/drive/folders/0B2G2LjIu7WbdfjhaUmVzc1lCR2hUdk5fZllCOHdtbFItbU5qYzdqZGVxdmlnRkJyYVQ4VU0">original code in C++</a></li>
<li>
<pre><code>  by Lee Hsien Loong
</code></pre>
</li>
<li>The MIT License (MIT)</li>
<li>Copyright (c) 2015 Vivian Balakrishnan</li>
</ul>
<style>
    p { text-align: left; }
    table { border: 2px solid #000; border-collapse: collapse;
            margin-left: auto; margin-right: auto; }
    input { border: 2px solid #ccc; }
</style>
<script type="text/javascript">


  BOARD_SIZE = 9;         // Width and height of the SuDoku board
	BOX_SIZE = 3;           // Width and height of the inner boxes
	EMPTY = "";             // Empty cell marker
	BLANK = 0x0;
	ONES = 0x3fe;			//	Binary 1111111110
	var InBlock = [];
	var InRow = [];
	var InCol = [];
	var board = [];			// Board of 81 cells

	var Block = [];			// 3x3 block of cells
	var Row = [];			// Row of 9 cells
	var Col = [];			// Column of 9 cells
	var Seq = []; 			// Sequence of blank cells
	var SeqPos = 0; 		// Points to blank cells



    function nextfield(me){
    	var vnum=/[1-9]/;
        var elements=document.getElementsByTagName("input");
			for (i=0; i<elements.length; i++) {

				if (elements[i]==me) {
					break;
					}
			}
		if (!elements[i].value.match(vnum)) {  

					elements[i].value="";
					elements[i].focus();
		}	else	{
        elements[i+1].focus();

        }
    }


    function draw() {
    	document.write('<table style="float:center">');
    	for (var row=0; row<9; row++) {
    		document.write('<tr>');
    		for (var col=0; col<9; col++) {
				document.write('<td><input type="text" size="2" maxlength="1" style="font-size:20px" onkeyup="nextfield(this)"/></td>');
			}
			document.write('</tr>');
    	}
    	document.write('</table>');
    }


	function setup() {
			board = document.getElementsByTagName("input");
     		for (var i=0; i<81; i++) {
     			var Square = i;
     			InRow[Square] = (Math.floor(Square / BOARD_SIZE));
     			InCol[Square] = (Square % BOARD_SIZE);
     			InBlock[Square] = ((Math.floor(Square/27) ) * 3)  + (Math.floor((Square % BOARD_SIZE) / 3));	  		
     		}	   

            for (var i=0; i<9; i++) {
            	Block[i] = ONES;
            	Row[i] = ONES;
            	Col[i] = ONES;
		  	}

		}

	function bitcount(b){
		b=b>>>1;
		var count = 0;
		while (b) {
			b= (b >>> 1);
			count++;
		}
		return count;
	}

	function removeValbit(c,v) {
		Block[InBlock[c]] &= ~v;
		Row[InRow[c]] &= ~v;
		Col[InCol[c]] &= ~v;
	}

	function test(SeqNum) {

		if (SeqNum>=Seq.length) return true;	//Solved

		var index = Seq[SeqNum];

		var possibles = Block[InBlock[index]] & Row[InRow[index]] & Col[InCol[index]];

		while (possibles) {

			var valbit = possibles & (-possibles);
			possibles &= ~valbit;

			board[index].value = bitcount(valbit);

			removeValbit(index, valbit);

			if (test(SeqNum+1)) return true;

			Block[InBlock[index]] |= valbit;
			Row[InRow[index]] |= valbit;
			Col[InCol[index]] |= valbit;
			}
		return false;		 	
	  }		


	function solve () {      
		setup();
		for (var i=0; i<81; i++) {
			if (board[i].value!=EMPTY) {
				var valbit2=1<<(board[i].value);
				removeValbit(i,valbit2);
			} else {
				Seq[Seq.length]=i;
			}
		}

		if (!test(0))
			alert("Cannot find solution");     
	}             

draw();

</script>
<p><button type="button" onclick="solve();">Solve!</button></p>
<p><button type="button" onclick="window.location.reload(true)">Clear</button></p>

      </div>
    </article>
  </div>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="http://localhost:1313/" >
    &copy;  Vivian Balakrishnan 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
